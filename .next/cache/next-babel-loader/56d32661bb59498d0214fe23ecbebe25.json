{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React from 'react';\nimport GenericLink from '../../components/GenericLink.js';\nimport Navigation from '../../components/Navigation.js';\nimport styles from './publications.module.css';\nconst pages = [{\n  color: '#ce83af',\n  img: \"https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1538425968/collages/digital/c11.jpg\",\n  text: \"hewwo pg 1\"\n}, {\n  color: '#ce83af',\n  img: \"https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1538425969/collages/digital/c6.jpg\",\n  text: \"hola pg 2\"\n}, {\n  color: '#e2d7bb',\n  img: \"https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1538425943/collages/digital/c8.jpg\",\n  text: \"this is pg 3 :)\"\n}, {\n  color: '#e2d7bb',\n  img: \"https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1538425955/collages/digital/c5.jpg\",\n  text: \"xoxoxo pg 4\"\n}, {\n  color: '#ce83af',\n  img: \"https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1538425941/collages/digital/c7.jpg\",\n  text: \"lolololol pg 5\"\n}, {\n  color: '#ce83af',\n  img: \"https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1538425934/collages/digital/c1.jpg\",\n  text: \"hihihi pg 6\"\n}, {\n  color: '#e2d7bb',\n  img: \"https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1538425963/collages/digital/c4.jpg\",\n  text: \"ciao es pg 7\"\n}, {\n  color: '#e2d7bb',\n  img: \"https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1538425972/collages/digital/c12.jpg\",\n  text: \"keep going its pg 8\"\n}, {\n  color: '#ce83af',\n  img: \"https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1538425933/collages/digital/c2.jpg\",\n  text: \"almost there pg 9\"\n}, {\n  color: '#ce83af',\n  img: \"https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1538425966/collages/digital/c10.jpg\",\n  text: \"final pg 10\"\n}];\nconst artistStatement = [{\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760462/publications/artiststatement/1.gif'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760462/publications/artiststatement/2.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760468/publications/artiststatement/3.gif'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760464/publications/artiststatement/4.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760467/publications/artiststatement/5.gif'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760465/publications/artiststatement/6.gif'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760472/publications/artiststatement/7.gif'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760470/publications/artiststatement/8.gif'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760470/publications/artiststatement/9.gif'\n}];\nconst cropped = [{\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760514/publications/cropped/1.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760523/publications/cropped/2.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760536/publications/cropped/3.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760541/publications/cropped/4.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760548/publications/cropped/5.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760531/publications/cropped/6.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760537/publications/cropped/7.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760548/publications/cropped/8.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760556/publications/cropped/9.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760559/publications/cropped/10.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760554/publications/cropped/11.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760572/publications/cropped/13.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760569/publications/cropped/14.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760573/publications/cropped/15.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760575/publications/cropped/16.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760575/publications/cropped/17.jpg'\n}];\nconst blaze = [{\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535767947/publications/blaze/1.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535767944/publications/blaze/2.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535767956/publications/blaze/3.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535767959/publications/blaze/4.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535767949/publications/blaze/5.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535767961/publications/blaze/6.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535767951/publications/blaze/7.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535767962/publications/blaze/8.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535767969/publications/blaze/9.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535767962/publications/blaze/10.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535767971/publications/blaze/11.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535767971/publications/blaze/12.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535767973/publications/blaze/13.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535767974/publications/blaze/14.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535767971/publications/blaze/15.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535767976/publications/blaze/16.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535767978/publications/blaze/17.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760298/publications/blaze/18.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760290/publications/blaze/19.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760303/publications/blaze/20.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760299/publications/blaze/21.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760304/publications/blaze/22.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760305/publications/blaze/23.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760304/publications/blaze/24.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760306/publications/blaze/25.jpg'\n}];\nconst recede = [{\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764129/publications/recede/Page_1.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764127/publications/recede/Page_2.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764154/publications/recede/Page_3.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764162/publications/recede/Page_4.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764231/publications/recede/Page_5.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764220/publications/recede/Page_6.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764221/publications/recede/Page_7.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764199/publications/recede/Page_8.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764219/publications/recede/Page_9.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764232/publications/recede/Page_10.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764234/publications/recede/Page_11.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764270/publications/recede/Page_12.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764273/publications/recede/Page_13.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764272/publications/recede/Page_14.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764277/publications/recede/Page_15.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764275/publications/recede/Page_16.jpg'\n}];\nconst sorry = [{\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764423/publications/sorryzine/Untitled-1.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764423/publications/sorryzine/Untitled-2.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764403/publications/sorryzine/3.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764404/publications/sorryzine/4.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764407/publications/sorryzine/5.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764408/publications/sorryzine/6.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764414/publications/sorryzine/7.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764413/publications/sorryzine/8.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764420/publications/sorryzine/9.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764414/publications/sorryzine/10.jpg'\n}, {\n  color: \"#1f2021\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764423/publications/sorryzine/11.jpg'\n}, {\n  color: \"#262626\",\n  img: 'https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535764417/publications/sorryzine/12.jpg'\n}];\nconst books = [{\n  name: \"artist statement\",\n  book: artistStatement\n}, {\n  name: \"sorry\",\n  book: sorry\n}, {\n  name: \"blaze\",\n  book: blaze\n}, {\n  name: \"recede\",\n  book: recede\n}, {\n  name: \"cropped\",\n  book: cropped\n}];\n\nclass Publications extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currIdx: 0,\n      bookIdx: 0,\n      isTurning: false\n    };\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  turnRight(e) {\n    if (e.target.parentNode.parentNode.parentNode.classList.contains(styles.left)) {\n      //this is a sad fix\n      this.turnLeft();\n      return;\n    }\n\n    let bookIdx = this.state.bookIdx;\n\n    if (!this.state.isTurning && !(this.state.currIdx >= books[bookIdx].book.length - 1)) {\n      this.setState({\n        isTurning: true\n      }, () => {\n        let rightCard = document.querySelectorAll(`.${styles.card}.${styles.right}`)[0];\n        let leftCard = document.querySelectorAll(`.${styles.card}.${styles.left}`)[0];\n        let next = document.getElementById(\"next\");\n        let prev = document.getElementById(\"prev\");\n        rightCard.style.zIndex = 3;\n        rightCard.classList.toggle(styles.is_flipped);\n        next.classList.remove(styles.hidden);\n\n        if (this.state.currIdx + 2 >= books[bookIdx].book.length) {\n          next.classList.add(styles.hidden);\n          rightCard.classList.remove(styles.hidden);\n        } //this.setBackgroundColors('right');\n\n\n        setTimeout(() => {\n          leftCard.classList.remove(styles.hidden);\n          this.pageRight();\n          this.setState({\n            isTurning: false\n          });\n\n          if (this.state.currIdx >= books[bookIdx].book.length) {\n            prev.classList.remove(styles.hidden);\n          }\n        }, 800);\n      });\n    }\n  }\n\n  turnLeft() {\n    if (!this.state.isTurning && this.state.currIdx > 0) {\n      this.setState({\n        isTurning: true\n      }, () => {\n        let rightCard = document.querySelectorAll(`.${styles.card}.${styles.right}`)[0];\n        let leftCard = document.querySelectorAll(`.${styles.card}.${styles.left}`)[0];\n        let next = document.getElementById(\"next\");\n        let prev = document.getElementById(\"prev\");\n        leftCard.style.zIndex = 3;\n        leftCard.classList.toggle(styles.is_flipped);\n\n        if (this.state.currIdx - 2 > 0) {\n          prev.classList.remove(styles.hidden);\n        } else {\n          prev.classList.add(styles.hidden);\n        } //this.setBackgroundColors('left');\n\n\n        setTimeout(() => {\n          rightCard.classList.remove(styles.hidden);\n          this.pageLeft();\n          this.setState({\n            isTurning: false\n          });\n        }, 800);\n      });\n    }\n  }\n\n  pageLeft() {\n    this.setState(prevState => {\n      return {\n        currIdx: prevState.currIdx - 2\n      };\n    }, () => {\n      let bookIdx = this.state.bookIdx;\n      let rightCard = document.querySelectorAll(`.${styles.card}.${styles.right}`)[0];\n      let leftCard = document.querySelectorAll(`.${styles.card}.${styles.left}`)[0]; //if turning to first page, hide the left page\n      //after the y rotation\n\n      if (this.state.currIdx == 0) {\n        leftCard.classList.add(styles.hidden);\n      }\n\n      let nextContent = document.querySelectorAll(`#next>.${styles.content}`)[0];\n      let rightBackFaceContent = document.querySelectorAll(`.${styles.right}>.${styles.card__face__back}>.${styles.content}`)[0]; //next page now has the content of the current right page\n\n      nextContent.parentNode.removeChild(nextContent);\n      document.getElementById(\"next\").appendChild(rightBackFaceContent); //right page has the content of the current left page\n\n      let rightFrontFace = document.querySelectorAll(`.${styles.right}>.${styles.card__face__front}`)[0];\n      let rightFrontFaceContent = document.querySelectorAll(`.${styles.right}>.${styles.card__face__front}>.${styles.content}`)[0];\n      let rightBackFace = document.querySelectorAll(`.${styles.right}>.${styles.card__face__back}`)[0];\n      let leftBackFace = document.querySelectorAll(`.${styles.left}>.${styles.card__face__back}`)[0];\n      let leftFrontFace = document.querySelectorAll(`.${styles.left}>.${styles.card__face__front}`)[0];\n      let leftBackFaceContent = document.querySelectorAll(`.${styles.left}>.${styles.card__face__back}>.${styles.content}`)[0];\n      let leftFrontFaceContent = document.querySelectorAll(`.${styles.left}>.${styles.card__face__front}>.${styles.content}`)[0];\n      if (rightFrontFaceContent) rightFrontFaceContent.parentNode.removeChild(rightFrontFaceContent);\n      rightBackFace.appendChild(leftBackFaceContent); //rightBackFace.style.background = books[bookIdx].book[this.state.currIdx].color;\n\n      rightFrontFace.appendChild(leftFrontFaceContent);\n      leftFrontFace = document.querySelectorAll(`.${styles.left}>.${styles.card__face__front}`)[0]; //left page has content of previous page\n\n      let prevContent = document.querySelectorAll(`#prev>.${styles.content}`)[0];\n      leftFrontFace.appendChild(prevContent); //create back face to left page\n\n      leftBackFace = document.querySelectorAll(`.${styles.left}>.${styles.card__face__back}`)[0];\n      let leftImage = this.createPageContent(this.state.currIdx - 2);\n      leftBackFace.appendChild(leftImage); //reattach the left page\n\n      let cardClone = leftCard.cloneNode(true);\n      cardClone.classList.remove(styles.is_flipped);\n      cardClone.style.zIndex = 0;\n\n      if (books[bookIdx].book[this.state.currIdx - 1]) {//cardClone.querySelectorAll(`.${styles.card__face__front}`)[0].style.background = books[bookIdx].book[this.state.currIdx - 1].color;\n      }\n\n      leftCard.parentNode.removeChild(leftCard);\n      document.querySelectorAll(`.${styles.scene}`)[0].appendChild(cardClone);\n\n      cardClone.onclick = () => this.turnLeft(); //create the previous page\n\n\n      let prevImage = this.createPageContent(this.state.currIdx - 3);\n      document.getElementById(\"prev\").appendChild(prevImage);\n\n      if (this.state.currIdx - 3 >= 0) {//document.getElementById(\"prev\").style.background = books[bookIdx].book[this.state.currIdx-3].color;\n      } else {\n        prev.classList.add(styles.hidden);\n      }\n    });\n  }\n\n  pageRight() {\n    this.setState(prevState => {\n      return {\n        currIdx: prevState.currIdx + 2\n      };\n    }, () => {\n      let bookIdx = this.state.bookIdx;\n      let rightCard = document.querySelectorAll(`.${styles.card}.${styles.right}`)[0];\n      let leftCard = document.querySelectorAll(`.${styles.card}.${styles.left}`)[0];\n      let prevContent = document.querySelectorAll(`#prev>.${styles.content}`)[0];\n      let leftFrontFaceContent = document.querySelectorAll(`.${styles.left}>.${styles.card__face__front}>.${styles.content}`)[0]; //if turning to the last page, hide the right page\n\n      if (this.state.currIdx >= books[bookIdx].book.length) {\n        rightCard.classList.add(styles.hidden);\n      } //previous page now has content of the current left page\n\n\n      prevContent.parentNode.removeChild(prevContent);\n      document.getElementById(\"prev\").appendChild(leftFrontFaceContent);\n      let rightFrontFace = document.querySelectorAll(`.${styles.right}>.${styles.card__face__front}`)[0];\n      let rightBackFace = document.querySelectorAll(`.${styles.right}>.${styles.card__face__back}`)[0];\n      let rightFrontFaceContent = document.querySelectorAll(`.${styles.right}>.${styles.card__face__front}>.${styles.content}`)[0];\n      let rightBackFaceContent = document.querySelectorAll(`.${styles.right}>.${styles.card__face__back}>.${styles.content}`)[0];\n      let leftBackFace = document.querySelectorAll(`.${styles.left}>.${styles.card__face__back}`)[0];\n      let leftFrontFace = document.querySelectorAll(`.${styles.left}>.${styles.card__face__front}`)[0];\n      let leftBackFaceContent = document.querySelectorAll(`.${styles.left}>.${styles.card__face__back}>.${styles.content}`)[0];\n      leftFrontFaceContent = document.querySelectorAll(`.${styles.left}>.${styles.card__face__front}>.${styles.content}`)[0]; //left page has content of current right page\n\n      leftBackFaceContent.parentNode.removeChild(leftBackFaceContent);\n      if (leftFrontFaceContent) leftFrontFaceContent.parentNode.removeChild(leftFrontFaceContent);\n      leftBackFace.appendChild(rightBackFaceContent); //leftFrontFace.style.background = books[bookIdx].book[this.state.currIdx-1].color;\n\n      leftFrontFace.appendChild(rightFrontFaceContent); //right page now has content of next page\n\n      let nextContent = document.querySelectorAll(`#next>.${styles.content}`)[0];\n      rightBackFace.append(nextContent); //create the back face of the right page (change the front face bc of transformY)\n\n      let rightImage = this.createPageContent(this.state.currIdx + 1);\n      rightFrontFace.appendChild(rightImage); //reattach the right page\n\n      let cardClone = rightCard.cloneNode(true);\n      cardClone.classList.add(styles.is_flipped);\n      cardClone.style.zIndex = 0;\n\n      if (books[bookIdx].book[this.state.currIdx]) {//cardClone.querySelectorAll(`.${styles.card__face__back}`)[0].style.background = books[bookIdx].book[this.state.currIdx].color;\n      }\n\n      rightCard.parentNode.removeChild(rightCard);\n      document.querySelectorAll(`.${styles.scene}`)[0].appendChild(cardClone);\n\n      cardClone.onclick = e => this.turnRight(e); //create the next page\n\n\n      let nextImage = this.createPageContent(this.state.currIdx + 2);\n      document.getElementById(\"next\").appendChild(nextImage);\n\n      if (this.state.currIdx + 2 < books[bookIdx].book.length) {//document.getElementById('next').style.background = books[bookIdx].book[this.state.currIdx + 2].color;\n      }\n    });\n  }\n\n  setBackgroundColors(direction) {\n    //currIdx indicates the left-most\n    let bookIdx = this.state.bookIdx;\n\n    if (direction == 'right') {\n      document.querySelectorAll(`.${styles.right}>.${styles.card__face__back}`)[0].style.background = books[bookIdx].book[this.state.currIdx].color;\n      document.querySelectorAll(`.${styles.right}>.${styles.card__face__front}`)[0].style.background = books[bookIdx].book[this.state.currIdx + 1].color;\n      if (books[bookIdx].book[this.state.currIdx + 2]) document.querySelectorAll(`.${styles.left}>.${styles.card__face__front}`)[0].style.background = books[bookIdx].book[this.state.currIdx + 2].color;\n      if (books[bookIdx].book[this.state.currIdx + 3]) document.getElementById(\"next\").style.background = books[bookIdx].book[this.state.currIdx + 3].color;\n    } else if (direction == 'left') {\n      document.querySelectorAll(`.${styles.left}>.${styles.card__face__back}`)[0].style.background = books[bookIdx].book[this.state.currIdx - 2].color;\n      document.querySelectorAll(`.${styles.left}>.${styles.card__face__front}`)[0].style.background = books[bookIdx].book[this.state.currIdx - 1].color;\n      if (books[bookIdx].book[this.state.currIdx]) document.querySelectorAll(`.${styles.right}>.${styles.card__face__back}`)[0].style.background = books[bookIdx].book[this.state.currIdx].color;\n      if (books[bookIdx].book[this.state.currIdx - 3]) document.getElementById(\"prev\").style.background = books[bookIdx].book[this.state.currIdx - 3].color;\n    }\n  }\n\n  createPageContent(idx) {\n    let bookIdx = this.state.bookIdx;\n    let div = document.createElement('div');\n    let img = document.createElement('img');\n    div.classList.add(styles.content);\n\n    if (idx >= 0 && idx < books[bookIdx].book.length) {\n      img.src = books[bookIdx].book[idx].img;\n    }\n\n    div.append(img);\n    return div;\n  }\n\n  changeBook() {\n    let idx = document.getElementById('selectBook').value;\n    this.setState({\n      bookIdx: idx\n    }, () => {\n      this.setState({\n        currIdx: 0\n      }, () => {\n        let rightFrontFace = document.querySelectorAll(`.${styles.right}>.${styles.card__face__front}`)[0];\n        let rightFrontFaceContent = document.querySelectorAll(`.${styles.right}>.${styles.card__face__front}>.${styles.content}`)[0];\n        let rightBackFace = document.querySelectorAll(`.${styles.right}>.${styles.card__face__back}`)[0];\n        let rightBackFaceContent = document.querySelectorAll(`.${styles.right}>.${styles.card__face__back}>.${styles.content}`)[0];\n        let leftFrontFace = document.querySelectorAll(`.${styles.left}>.${styles.card__face__front}`)[0];\n        let leftFrontFaceContent = document.querySelectorAll(`.${styles.left}>.${styles.card__face__front}>.${styles.content}`)[0];\n        let leftBackFace = document.querySelectorAll(`.${styles.left}>.${styles.card__face__back}`)[0];\n        let leftBackFaceContent = document.querySelectorAll(`.${styles.left}>.${styles.card__face__back}>.${styles.content}`)[0];\n        let nextContent = document.querySelectorAll(`#next>.${styles.content}`)[0];\n        let prevContent = document.querySelectorAll(`#prev>.${styles.content}`)[0];\n        rightFrontFaceContent.parentNode.removeChild(rightFrontFaceContent);\n        rightBackFaceContent.parentNode.removeChild(rightBackFaceContent);\n        leftFrontFaceContent.parentNode.removeChild(leftFrontFaceContent);\n        leftBackFaceContent.parentNode.removeChild(leftBackFaceContent);\n        nextContent.parentNode.removeChild(nextContent);\n        prevContent.parentNode.removeChild(prevContent);\n        let rightBack = this.createPageContent(0);\n        let rightFront = this.createPageContent(1);\n        let next = this.createPageContent(2);\n        let empty1 = this.createPageContent(-1);\n        let empty2 = this.createPageContent(-1);\n        let empty3 = this.createPageContent(-1); //prepare right side\n\n        rightBackFace.appendChild(rightBack);\n        rightFrontFace.appendChild(rightFront);\n        document.getElementById('next').appendChild(next); //empty out left side\n\n        leftBackFace.appendChild(empty1);\n        leftFrontFace.appendChild(empty2);\n        document.getElementById('prev').appendChild(empty3);\n        document.querySelectorAll(`.${styles.card}.${styles.right}`)[0].classList.remove(styles.hidden);\n        document.querySelectorAll(`.${styles.card}.${styles.left}`)[0].classList.add(styles.hidden);\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.publicationsContainer,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"navContainer\",\n        children: /*#__PURE__*/_jsx(Navigation, {})\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.galleryControls,\n        children: [/*#__PURE__*/_jsx(GenericLink, {\n          href: \"/projects\",\n          children: \"\\u2B05 Projects\"\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          children: [/*#__PURE__*/_jsx(\"span\", {\n            children: \"Publication: \"\n          }), /*#__PURE__*/_jsx(\"select\", {\n            className: styles.select,\n            id: \"selectBook\",\n            onChange: () => this.changeBook(),\n            children: books.map((b, i) => {\n              return /*#__PURE__*/_jsx(\"option\", {\n                value: i,\n                children: b.name\n              }, b.name);\n            })\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.book,\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          id: \"leftarrow\",\n          className: styles.arrow,\n          onClick: () => this.turnLeft(),\n          children: /*#__PURE__*/_jsx(\"span\", {\n            className: \"material-icons\",\n            children: \"arrow_back\"\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.scene,\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            id: \"prev\",\n            className: `${styles.prev} ${styles.hidden}`,\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: styles.content\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: `${styles.card} ${styles.left} ${styles.hidden}`,\n            onClick: () => this.turnLeft(),\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: `${styles.card__face} ${styles.card__face__front}`,\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: styles.content\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: `${styles.card__face} ${styles.card__face__back}`,\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: styles.content\n              })\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: `${styles.card} ${styles.right} ${styles.is_flipped}`,\n            onClick: e => this.turnRight(e),\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: `${styles.card__face} ${styles.card__face__front}`,\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: styles.content,\n                children: /*#__PURE__*/_jsx(\"img\", {\n                  src: \"https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760462/publications/artiststatement/2.jpg\"\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: `${styles.card__face} ${styles.card__face__back}`,\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: styles.content,\n                children: /*#__PURE__*/_jsx(\"img\", {\n                  src: \"https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760462/publications/artiststatement/1.gif\"\n                })\n              })\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            id: \"next\",\n            className: styles.next,\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: styles.content,\n              children: /*#__PURE__*/_jsx(\"img\", {\n                src: \"https://res.cloudinary.com/dftvewldz/image/upload/c_scale,w_450/v1535760468/publications/artiststatement/3.gif\"\n              })\n            })\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          id: \"right-arrow\",\n          className: styles.arrow,\n          onClick: e => this.turnRight(e),\n          children: /*#__PURE__*/_jsx(\"span\", {\n            className: \"material-icons\",\n            children: \"arrow_forward\"\n          })\n        })]\n      })]\n    });\n  }\n\n}\n\nexport default Publications;","map":null,"metadata":{},"sourceType":"module"}